<html>
<head>
  <title>Email Validation with Database</title>
  <style>
body {
    font-family: arial, sans-serif;
    }
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 80%;
}
td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}
tr:nth-child(even) {
    background-color: #dddddd;
}
.alert-error {
  border: 1px solid gray;
  background: red;
  color: white;
  display: inline-block;
  text-align: center;
}
.alert-success {
  border: 1px solid gray;
  background: green;
  color: white;
  display: inline-block;
  text-align: center;
}
</style>
</head>
<body>
  <h1>Here are all the emails in the Database</h1>
<!-- we can use the line below to see all of our data in our template -->
<!--<h1>These are all my friends!</h1>-->
 <!--with all the data we can then construct a more structured output -->
 <table>
  <tr>
    <th>ID</th>
    <th>Email</th>
    <th>Created</th>
    <th>Updated</th>
  </tr>
  {% for email in all_emails: %}
  <tr>
    <td>{{ email['id'] }}</td>
    <td>{{ email['email']}}</td>
    <td>{{ email['created_at'] }}</td>
    <td>{{ email['updated_at'] }}</td>
  </tr>
  {% endfor %}
</table>
  <hr>
  
  {% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
      {% for message in messages %}
      <div class="alert alert-{{ message[0] }}">
        <p>{{message[1]}}</p>
      </div>
      {% endfor %}
    {% endif %}
  {% endwith %}
  <form action='/'>
    <input type="submit" value="Home">
  </form>
</body>
</html>